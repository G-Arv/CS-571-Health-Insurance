<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
    <link rel="stylesheet" href="h.css">

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v4.js"></script>
    <script src="https://d3js.org/topojson.v3.js"></script>
    <script src="js/focus.js"></script>

</head>
<body>
    <div class="tab">
        <button class="tabpage" onclick="openTab(event, 'MainPage')">Main</button>
        <button class="tabpage" onclick="openTab(event, 'USStates')">Analysis</button>
        <button class="tabpage" onclick="openTab(event, 'About')">Demo</button>
    </div>

    <div id="MainPage" class="tabcontent">
            <h1 class="h1">U.S. Healthcare Insurance Analysis</h1>
            <h2 class="h2">Why did we chose to analyze Health Insurance Data?</h2>
            <h2 class ="h2">
                <p>
                    Health care refers to an organized provision of medical services to maintain and improve human health. However, in the United States, U.S. healthcare is more of a business, and patients are paying customers. Health insurance plays a crucial role in determining who gets access to which type of care and the costs involved. 
                    One concern is rising costs as in 2025, the average monthly premium for the silver plan under the Affordable Care Act was approximately $621, a 7% increase from 2024. Despite being a mid-tier plan, it is very expensive and can be financially burdensome for many, even with deductibles, copayments, and out-of-pocket costs.
                    Another concern is many Americans having their insurance claims denied. In 2023, insurers of marketplace plans denied about 20% of all in-network claims and an even higher percentage of out-of-network care. Shockingly, fewer than 1% of denials were ever appealed, often due to the lack of awareness or how complex the appeals process is. 
                    Overall, there are disparities when it comes to access, claim approvals, and cost-effectiveness that create concerns about the efficiency of the existing insurance model. Hence, we have created an effective data-driven solution by identifying trends and helping to analyze different types of health insurances by state.
                </p>
            </h2>

            <h2 class="h2">Questions We Aim To Answer:
                <ul>
                    <li>How many people in the US are insured compared to the number of people in the US who are uninsured?</li>
                    <li>Most common types of health insurance used?</li>
                    <li>What are the percentages of all listed insurance plans that are used by state?</li>
                    <li>What is the percentage of those who receive insurance from their employer?</li>
                </ul>
            </h2>       
            
            <div class="charts-container2">
                <div class="chart-box2">
                    <h3 class="chart-title">Insurance Cost In Selected States From 2008 To 2020</h3>
                    <svg id="line-chart" width="1200" height="400" text-align="center"></svg>
                    <div id="checkbox-container"></div>
                    <div id="legend"></div>
                </div>
            </div>            
            

    </div>

    <div id="USStates" class="tabcontent">
        <h1 class="h1">Data Visualization Graphics By State</h1>
        <div class="chart-title">
            <h3 id="h3"></h3>
        </div>
        <div class="dropdown-container">
            <label for="states">State: </label>
                    <select id="states">
                    <option value="">Select a State</option>
                    <option value="Alabama">Alabama</option>
                    <option value="Alaska">Alaska</option>
                    <option value="Arizona">Arizona</option>
                    <option value="Arkansas">Arkansas</option>
                    <option value="California">California</option>
                    <option value="Colorado">Colorado</option>
                    <option value="Connecticut">Connecticut</option>
                    <option value="Delaware">Delaware</option>
                    <option value="Florida">Florida</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Hawaii">Hawaii</option>
                    <option value="Idaho">Idaho</option>
                    <option value="Illinois">Illinois</option>
                    <option value="Indiana">Indiana</option>
                    <option value="Iowa">Iowa</option>
                    <option value="Kansas">Kansas</option>
                    <option value="Kentucky">Kentucky</option>
                    <option value="Louisiana">Louisiana</option>
                    <option value="Maine">Maine</option>
                    <option value="Maryland">Maryland</option>
                    <option value="Massachusetts">Massachusetts</option>
                    <option value="Michigan">Michigan</option>
                    <option value="Minnesota">Minnesota</option>
                    <option value="Mississippi">Mississippi</option>
                    <option value="Missouri">Missouri</option>
                    <option value="Montana">Montana</option>
                    <option value="Nebraska">Nebraska</option>
                    <option value="Nevada">Nevada</option>
                    <option value="New Hampshire">New Hampshire</option>
                    <option value="New Jersey">New Jersey</option>
                    <option value="New Mexico">New Mexico</option>
                    <option value="New York">New York</option>
                    <option value="North Carolina">North Carolina</option>
                    <option value="North Dakota">North Dakota</option>
                    <option value="Ohio">Ohio</option>
                    <option value="Oklahoma">Oklahoma</option>
                    <option value="Oregon">Oregon</option>
                    <option value="Pennsylvania">Pennsylvania</option>
                    <option value="Rhode Island">Rhode Island</option>
                    <option value="South Carolina">South Carolina</option>
                    <option value="South Dakota">South Dakota</option>
                    <option value="Tennessee">Tennessee</option>
                    <option value="Texas">Texas</option>
                    <option value="Utah">Utah</option>
                    <option value="Vermont">Vermont</option>
                    <option value="Virginia">Virginia</option>
                    <option value="Washington">Washington</option>
                    <option value="West Virginia">West Virginia</option>
                    <option value="Wisconsin">Wisconsin</option>
                    <option value="Wyoming">Wyoming</option></select>
          </div>
            <div id="focus">
                
                <div class="charts-container">
                        <div class="chart-box">
                            <h3 class="chart-title">Insurance Coverage Distribution</h3>
                            <svg id="pie-chart"></svg>
                        </div>
                        <div class="chart-box">
                            <h3 class="chart-title">Insurance Type Breakdown by Year</h3>
                            <svg id="bar-chart"></svg>
                        </div>
                        <div class="chart-box">
                             <h3 class="chart-title">Medicaid Enrollment Comparison (2013 vs 2016)</h3>
                            <svg id="bar-chart2"></svg>
                        </div>
                 </div>    
            </div>
        
        
    </div>
    <div id="About" class="tabcontent">
        <a href="process-book\CS 571 Healthcare Insurance Analysis Process Book (1).pdf">Link to Process Book PDF</a>
        <h3 class="about">By: Gauri Arvind, Akshitaa Jay, Tiven Pangtono</h3>
        <iframe src="https://drive.google.com/file/d/1i_-J2PqWm9Y4z2HEQUEf6Ydcu5dIiEXM/preview"
        width="1000" height="600" allow="autoplay" allowfullscreen>
        </iframe>
    </div>

    <script>
        //ChatGPT(LLM) By OpenAI was used to create the openTab function in order for the page tab switching functionality and displays the pages content when the user switches between the three tabs when they click on a tab
        //“Handling Tabswitching and clicking on tabs using onclick”. ChatGPT, 7 April 2025, OpenAI, March 2023, chat.openai.com.
        function openTab(event, name) { 
            var tabcontent = document.getElementsByClassName("tabcontent");
            for (var i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none"; //hides other tab content
            }
            var tabpage = document.getElementsByClassName("tabpage");
            for (var i = 0; i < tabpage.length; i++) {
                tabpage[i].className = tabpage[i].className.replace(" active", ""); //removes all other tabs set as the active tab which are tabs that aren't currently viewed
            }
            document.getElementById(name).style.display = "block"; 
            event.currentTarget.className += " active"; //sets tab in use to active status so that tabs content is displayed
        }

        document.querySelector(".tabpage").click(); //click on tab allowing tabs content to be displayed
        window.onload = function() { document.querySelector(".tabpage").click();}
        document.getElementById('states').addEventListener('change', function() {
            const stateName = this.value;
            document.querySelector('#h3').textContent = stateName;
            if (stateName) {
                //removes old graphs
                d3.select("#pie-chart").selectAll("*").remove(); 
                d3.select("#bar-chart").selectAll("*").remove();
                d3.select("#bar-chart2").selectAll("*").remove();
                //generates new charts
                createPieChart(stateName); 
                createBarChart(stateName); 
                createBarChart2(stateName);
            }
        });
            
        window.addEventListener('load', () => { //Line chart
            createLine()
        });   


    </script>
</body>
</html>